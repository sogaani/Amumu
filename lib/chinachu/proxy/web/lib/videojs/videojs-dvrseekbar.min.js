/**
 * videojs-dvrseekbar
 * @version 0.2.6
 * @copyright 2016 ToolBox-tve
 * @license Apache-2.0
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsDvrseekbar=e()}}(function(){return function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[a]={exports:{}};t[a][0].call(u.exports,function(e){var n=t[a][1][e];return o(n?n:e)},u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,i=r(o),a={startTime:0},l=function(e,t){e.addClass("vjs-dvrseekbar"),e.controlBar.addClass("vjs-dvrseekbar-control-bar"),e.controlBar.progressControl&&e.controlBar.progressControl.addClass("vjs-dvrseekbar-progress-control");var n=document.createElement("div"),r=document.createElement("button");n.className="vjs-live-button vjs-control",r.innerHTML=document.getElementsByClassName("vjs-live-display")[0].innerHTML,r.id="liveButton",e.paused()||(r.className="vjs-live-label onair");var o=function(t){e.currentTime(e.seekable().end(0)),e.play()};r.addEventListener?r.addEventListener("click",o,!1):r.attachEvent&&r.attachEvent("onclick",function(){return o.apply(r,[window.event])}),n.appendChild(r);var a=document.getElementsByClassName("vjs-control-bar")[0],l=document.getElementsByClassName("vjs-progress-control")[0];a.insertBefore(n,l),i["default"].log("dvrSeekbar Plugin ENABLED!",t)},s=function(e,t){var n=e.seekable(),r=document.getElementById("liveButton");n.length&&(n.end(0)-e.currentTime()<30?r.className="vjs-live-label onair":r.className="vjs-live-label",e.duration(e.seekable().end(0)))},d=function(e){var t=this,n=i["default"].getComponent("SeekBar");n.prototype.dvrTotalTime=function(e){var t=e.seekable();return t&&t.length?t.end(0)-t.start(0):0},n.prototype.handleMouseMove=function(e){var t=void 0,n=void 0;if(t=n=this.player_.seekable(),t&&t.length){for(n=t.start(0)+this.calculateDistance(e)*this.dvrTotalTime(this.player_);n>=t.end(0);)n-=.1;this.player_.currentTime(n)}},n.prototype.updateAriaAttributes=function(){var e=void 0,t=void 0,n=this.player_.seekable();n&&n.length&&(e=this.player_.scrubbing?this.player_.getCache().currentTime:this.player_.currentTime(),t=n.end(0)-e,t=0>t?0:t,this.el_.setAttribute("aria-valuenow",Math.round(100*this.getPercent(),2)),this.el_.setAttribute("aria-valuetext",(0===e?"":"-")+i["default"].formatTime(t,n.end(0))))},e||(e=a),this.on("timeupdate",function(e){s(t,e)}),this.on("play",function(e){}),this.on("pause",function(e){var t=document.getElementById("liveButton");t.className="vjs-live-label"}),this.ready(function(){l(t,i["default"].mergeOptions(a,e))})};i["default"].plugin("dvrseekbar",d),d.VERSION="0.2.6",n["default"]=d,t.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});